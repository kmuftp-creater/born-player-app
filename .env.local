import { GoogleGenerativeAI } from "@google/genai";

// 1. 使用 Vite 的正確語法從環境變數中讀取金鑰，
//    並存到一個叫做 apiKey 的常數中。
const apiKey = import.meta.env.VITE_GOOGLE_API_KEY;

// 2. 這是個好習慣：確認金鑰真的有讀到，如果沒有就丟出錯誤，
//    這樣未來除錯會很方便。
if (!apiKey) {
  throw new Error("VITE_GOOGLE_API_KEY is not set in the environment variables");
}

// 3. 使用這個 apiKey 來建立 Google AI 的服務實例
const genAI = new GoogleGenerativeAI(apiKey);

// 您可以接著把 genAI export 出去，給其他檔案使用
export default genAI;
